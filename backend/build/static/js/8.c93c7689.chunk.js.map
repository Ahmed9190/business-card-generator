{"version":3,"sources":["assets/SVG/arrow-left.svg","assets/SVG/arrow-right.svg","components/horizontal-slider/horizontal-slider.jsx","pages/home/home.jsx"],"names":["HorizontalSlider","useState","cards","setCards","HorizontalSliderRef","useRef","isScrolling","clientX","scrollX","scrollData","setScrollData","useEffect","axios","get","then","data","slice","catch","e","Toast","onMouseUp","availableScrollWidth","current","scrollWidth","window","innerWidth","handleClickArrow","arrowName","moveScroll","operator","time","setTimeout","scrollLeft","i","className","onClick","src","arrowLeft","alt","height","width","arrowRight","onMouseDown","onMouseMove","document","selection","empty","getSelection","removeAllRanges","onMouseLeave","ref","map","u_id","c_id","color_index","has_whatsapp","cardData","color","cardColors","hasWhatsapp","to","HomePage","push","history","hasCard","setHasCard","localStorage","getItem","post","headers","res"],"mappings":"6NAAe,G,MAAA,IAA0B,wCCA1B,MAA0B,wC,wDCiH1BA,EAvGU,WAAO,IAAD,IACHC,mBAAS,IADN,mBACtBC,EADsB,KACfC,EADe,KAEvBC,EAAsBC,mBAFC,EAGOJ,mBAAS,CAC3CK,aAAa,EACbC,QAAS,EACTC,QAAS,IANkB,mBAGtBC,EAHsB,KAGVC,EAHU,KAkB7BC,qBAAU,WACRC,IACGC,IAAI,cACJC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPZ,EAASY,EAAKC,MAAM,EAAG,QAExBC,OAAM,SAACC,GAAD,OAAOC,YAAM,uCAAwC,cAC7D,IAEH,IAIMC,EAAY,SAACF,GACjBR,EAAc,2BAAKD,GAAN,IAAkBH,aAAa,MAG1Ce,GACF,UAAAjB,EAAoBkB,eAApB,eAA6BC,aAAcC,OAAOC,WAiB9CC,EAAmB,SAACC,GACxB,IAAMC,EAAa,SAACC,EAAUC,GAC5BC,YAAW,WACQ,MAAbF,EAAkBzB,EAAoBkB,QAAQU,aAC5B,MAAbH,GAAkBzB,EAAoBkB,QAAQU,eACtDF,IAEL,GAAkB,SAAdH,EAAsB,IAAK,IAAIM,EAAI,EAAGA,EAAI,IAAKA,IAAKL,EAAW,IAAKK,QACnE,IAAK,IAAIA,EAAI,EAAGA,EAAI,IAAKA,IAAKL,EAAW,IAAKK,IAGrD,OACE,sBAAKC,UAAU,mBAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,qBAAKA,UAAU,eAAeC,QAAS,kBAAMT,EAAiB,SAA9D,SACE,qBAAKU,IAAKC,EAAWC,IAAI,aAAaC,OAAQ,GAAIC,MAAM,WAE1D,qBAAKN,UAAU,eAAeC,QAAS,kBAAMT,EAAiB,UAA9D,SACE,qBAAKU,IAAKK,EAAYH,IAAI,cAAcC,OAAQ,GAAIC,MAAM,cAG9D,qBACEN,UAAU,iBACVQ,YAjDc,SAACxB,GACnBR,EAAc,2BAAKD,GAAN,IAAkBH,aAAa,EAAMC,QAASW,EAAEX,YAiDzDa,UAAWA,EACXuB,YAxCc,SAACzB,GAAO,IAClBX,EAAqBE,EAArBF,QAASC,EAAYC,EAAZD,QAGfC,EAAWH,aACXE,GAAWU,EAAEX,QAAUA,GAAWc,EAAuB,KACzDb,GAAWU,EAAEX,QAAUA,GAAW,IAElCH,EAAoBkB,QAAQU,WAAaxB,GAAWU,EAAEX,QAAUA,GAChEE,EAAWD,QAAUA,GAAWU,EAAEX,QAAUA,GAC5CE,EAAWF,QAAUW,EAAEX,SAtCrBqC,SAASC,WAAaD,SAASC,UAAUC,MAC3CF,SAASC,UAAUC,QACVtB,OAAOuB,cACNvB,OAAOuB,eACbC,mBAiEFC,aAAc7B,IAEhB,qBAAKc,UAAU,UAAUgB,IAAK9C,EAA9B,SACGF,EAAMiD,KACL,WAAyDlB,GAAzD,EAAGmB,KAAH,EAASC,KAAT,IAAeC,EAAf,EAAeA,YAAaC,EAA5B,EAA4BA,aAAiBC,EAA7C,mEACE,qBAAKtB,UAAU,yBAAf,SACE,cAAC,IAAD,CACEsB,SAAUA,EACVC,MAAOC,IAAWJ,GAClBK,YAAaJ,KAJ4BtB,QAUnD,qBAAKC,UAAU,eAAf,SACE,cAAC,IAAD,CAAM0B,GAAG,cAAT,SACE,sBAAM1B,UAAU,kBAAhB,8B,sBCjDK2B,UAlDf,YAA0C,IAAXC,EAAU,EAArBC,QAAWD,KAAU,EACT7D,mBAAS,MADA,mBAChC+D,EADgC,KACvBC,EADuB,KAoBvC,OALAtD,qBAAU,WACHuD,aAAaC,QAAQ,OAZ1BvD,IACGwD,KAAK,gBAAiB,GAAIC,KAC1BvD,MAAK,YAAoB,IAAXwD,EAAU,EAAhBvD,KACsBkD,EAAV,kBAARK,MAGZrD,OAAM,SAACC,GACN+C,GAAW,MAKmBA,GAAW,KAE5C,IAGD,sBAAK/B,UAAU,iBAAf,UACE,sBAAKA,UAAU,wBAAf,UAEE,cAAC,IAAD,IAEA,sBAAKA,UAAU,OAAf,UACE,4DACE8B,GAAW,sDACb,wBACE9B,UAAU,oBACVC,QAAS,kBACP2B,EAAK,SAAD,QAAuB,KAAZE,EAAoB,OAAS,YAHhD,SAMsB,mBAAZA,EACJ,GACCA,EAED,YADA,qBAKV,qBAAK9B,UAAU,WAAf,SACE,cAAC,EAAD","file":"static/js/8.c93c7689.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/arrow-left.081acf70.svg\";","export default __webpack_public_path__ + \"static/media/arrow-right.a9c77979.svg\";","import React, { useEffect, useState, useRef } from \"react\";\r\nimport \"./horizontal-slider.scss\";\r\nimport arrowLeft from \"../../assets/SVG/arrow-left.svg\";\r\nimport arrowRight from \"../../assets/SVG/arrow-right.svg\";\r\nimport Card from \"../card/card\";\r\nimport { cardColors } from \"./../../pages/handle-card/handle-card-data\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Toast from \"./../../utils/toastify\";\r\n\r\nconst HorizontalSlider = () => {\r\n  const [cards, setCards] = useState([]);\r\n  const HorizontalSliderRef = useRef();\r\n  const [scrollData, setScrollData] = useState({\r\n    isScrolling: false,\r\n    clientX: 0,\r\n    scrollX: 0,\r\n  });\r\n\r\n  function clearSelection() {\r\n    if (document.selection && document.selection.empty) {\r\n      document.selection.empty();\r\n    } else if (window.getSelection) {\r\n      var sel = window.getSelection();\r\n      sel.removeAllRanges();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"read-cards\")\r\n      .then(({ data }) => {\r\n        setCards(data.slice(0, 10));\r\n      })\r\n      .catch((e) => Toast(\"There is a problem with the Internet\", \"error\"));\r\n  }, []);\r\n\r\n  const onMouseDown = (e) => {\r\n    setScrollData({ ...scrollData, isScrolling: true, clientX: e.clientX });\r\n  };\r\n\r\n  const onMouseUp = (e) => {\r\n    setScrollData({ ...scrollData, isScrolling: false });\r\n  };\r\n\r\n  let availableScrollWidth =\r\n    HorizontalSliderRef.current?.scrollWidth - window.innerWidth;\r\n\r\n  const onMouseMove = (e) => {\r\n    const { clientX, scrollX } = scrollData;\r\n\r\n    if (\r\n      scrollData.isScrolling &&\r\n      scrollX - (e.clientX - clientX) < availableScrollWidth + 100 && //100 tolerance\r\n      scrollX - (e.clientX - clientX) > 0\r\n    ) {\r\n      HorizontalSliderRef.current.scrollLeft = scrollX - (e.clientX - clientX);\r\n      scrollData.scrollX = scrollX - (e.clientX - clientX);\r\n      scrollData.clientX = e.clientX;\r\n    }\r\n    clearSelection();\r\n  };\r\n\r\n  const handleClickArrow = (arrowName) => {\r\n    const moveScroll = (operator, time) => {\r\n      setTimeout(() => {\r\n        if (operator === \"+\") HorizontalSliderRef.current.scrollLeft++;\r\n        else if (operator === \"-\") HorizontalSliderRef.current.scrollLeft--;\r\n      }, time);\r\n    };\r\n    if (arrowName === \"left\") for (let i = 0; i < 420; i++) moveScroll(\"-\", i);\r\n    else for (let i = 0; i < 420; i++) moveScroll(\"+\", i);\r\n  };\r\n  debugger;\r\n  return (\r\n    <div className=\"wrapper noselect\">\r\n      <div className=\"arrows-container\">\r\n        <div className=\"arrow-circle\" onClick={() => handleClickArrow(\"left\")}>\r\n          <img src={arrowLeft} alt=\"arrow-left\" height={15} width=\"auto\" />\r\n        </div>\r\n        <div className=\"arrow-circle\" onClick={() => handleClickArrow(\"right\")}>\r\n          <img src={arrowRight} alt=\"arrow-right\" height={15} width=\"auto\" />\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"grap-to-scroll\"\r\n        onMouseDown={onMouseDown}\r\n        onMouseUp={onMouseUp}\r\n        onMouseMove={onMouseMove}\r\n        onMouseLeave={onMouseUp}\r\n      ></div>\r\n      <div className=\"wrapper\" ref={HorizontalSliderRef}>\r\n        {cards.map(\r\n          ({ u_id, c_id, color_index, has_whatsapp, ...cardData }, i) => (\r\n            <div className=\"horizontal-slider-item\" key={i}>\r\n              <Card\r\n                cardData={cardData}\r\n                color={cardColors[color_index]}\r\n                hasWhatsapp={has_whatsapp}\r\n              />\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n      <div className=\"show-all-div\">\r\n        <Link to=\"/cards-page\">\r\n          <span className=\"show-all-button\">Show All</span>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HorizontalSlider;\r\n","import HorizontalSlider from \"./../../components/horizontal-slider/horizontal-slider\";\r\nimport Header from \"../../components/header/header\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { headers } from \"./../../utils/axios\";\r\nimport \"./home.scss\";\r\n\r\nfunction HomePage({ history: { push } }) {\r\n  const [hasCard, setHasCard] = useState(null);\r\n\r\n  const checkCardExistance = () => {\r\n    axios\r\n      .post(\"/read-my-card\", {}, headers)\r\n      .then(({ data: res }) => {\r\n        if (typeof res === \"object\") setHasCard(true);\r\n        else setHasCard(false);\r\n      })\r\n      .catch((e) => {\r\n        setHasCard(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"jwt\")) setHasCard(false);\r\n    else checkCardExistance();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <div className=\"header-main-container\">\r\n        {/* <div className=\"home-header\"> */}\r\n        <Header />\r\n        {/* </div> */}\r\n        <div className=\"main\">\r\n          <span>Business Card Generator</span>\r\n          {!hasCard && <span>Want a free card ?</span>}\r\n          <button\r\n            className=\"create-one-button\"\r\n            onClick={() =>\r\n              push(`/card/${!hasCard === false ? \"edit\" : \"create\"}`)\r\n            }\r\n          >\r\n            {typeof hasCard !== \"boolean\"\r\n              ? \"\"\r\n              : !hasCard\r\n              ? \"Create one\"\r\n              : \"Edit card\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"carousel\">\r\n        <HorizontalSlider />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"sourceRoot":""}